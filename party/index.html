<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Talk THIRTY to me!</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" />
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@400;600&display=swap"
    rel="stylesheet" />
  <style>
    :root {
      --beige: #fee7b6;
      --red: #cc2d22;
      --gray: #505050;
      --black: #000;
      --white: #fff;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Inter', sans-serif;
    }

    body,
    html {
      height: 100%;
      background: var(--beige);
      color: var(--gray);
      cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><text y='24' font-size='24'>üéâ</text></svg>") 16 16, auto;
    }

    .container {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      padding: 1rem;
      overflow: hidden;
    }

    .card {
      background: var(--white);
      max-width: 480px;
      width: 100%;
      padding: 2rem;
      border-radius: 24px;
      box-shadow: 0 8px 20px #50505033;
      text-align: center;
      position: relative;
      transition: transform .3s;
      will-change: transform;
    }

    .card.tilting {
      transition: none;
    }

    h1 {
      font-family: 'Bebas Neue', cursive;
      font-size: clamp(2.5rem, 6vw, 3.5rem);
      letter-spacing: .05em;
      color: var(--red);
      margin-bottom: .5rem;
      text-transform: uppercase;
    }

    p.sub {
      margin-bottom: 1.5rem;
      font-weight: 600;
    }

    label {
      display: block;
      text-align: left;
      margin-top: 1rem;
      margin-bottom: .25rem;
      font-weight: 600;
    }

    input[type="text"] {
      width: 100%;
      padding: .75rem 1rem;
      border: 2px solid var(--gray);
      border-radius: 8px;
      font-size: 1rem;
    }

    .radio-group {
      display: flex;
      gap: 1rem;
      margin-top: .5rem;
    }

    .radio-group label {
      display: flex;
      align-items: center;
      font-weight: 400;
    }

    .radio-group input {
      accent-color: var(--red);
      margin-right: .25rem;
      cursor: pointer;
    }

    button[type="submit"] {
      margin-top: 1.5rem;
      width: 100%;
      padding: 1rem;
      background: var(--red);
      color: var(--white);
      font-weight: 700;
      border: none;
      border-radius: 8px;
      font-size: 1.125rem;
      cursor: pointer;
      transition: background .2s, transform .2s;
    }

    button[type="submit"]:hover {
      background: #a6221a;
    }

    button[type="submit"].avoid:hover {
      transform: translateX(var(--tx, 0)) translateY(var(--ty, 0)) scale(.9);
    }

    /* success state */
    .success {
      font-family: 'Bebas Neue', cursive;
      font-size: clamp(2.5rem, 7vw, 4rem);
      color: var(--red);
      animation: fadeIn .4s ease-in-out forwards;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 60vh;
      text-align: center;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    /* Garland */
    .garland {
      position: absolute;
      top: 0;
      left: 0;
      width: 60rem;
      transform: rotate(-5deg) translate(-10%, -30%);
      pointer-events: auto;
      cursor: pointer;
    }

    /* Confetti */
    .confetti {
      position: fixed;
      top: -10vh;
      width: 8px;
      height: 8px;
      border-radius: 2px;
      opacity: .9;
      animation: confettiFall 1.8s linear forwards;
      z-index: 9999;
    }

    @keyframes confettiFall {
      to {
        transform: translateY(110vh) rotate(720deg);
      }
    }

    /* Emoji Rain */
    .emoji {
      position: fixed;
      top: -10vh;
      font-size: 1.6rem;
      animation: emojiFall 2.2s linear forwards;
      z-index: 9999;
      pointer-events: none;
    }

    @keyframes emojiFall {
      to {
        transform: translateY(110vh);
        opacity: 0;
      }
    }
    @keyframes spinOnce {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

.spin-once {
  animation: spinOnce 0.8s ease-out;
}
.balloon-wrapper {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
  z-index: 0; /* stays behind .card */
}

.balloon {
  position: absolute;
  bottom: -60px;
  font-size: 2rem;
  opacity: 0.85;
  animation: floatUp linear infinite;
}

@keyframes floatUp {
  0% {
    transform: translateY(0) translateX(0);
    opacity: 0.8;
  }
  100% {
    transform: translateY(-110vh) translateX(-20px);
    opacity: 0;
  }
}



  </style>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

</head>

<body>
  <!-- Add in HTML -->
  <div class="balloon-wrapper"></div>


  <div class="container">
    <!-- Garland Image (truncated base64 for brevity) -->
    <img class="garland" id="garland"
      src="./wimpel.png"
      alt="Girlande" />

    <div class="card" id="card">
      <h1>Talk THIRTY to me!</h1>
      <p class="sub">26. 07. 2025 ¬∑ 15&nbsp;Uhr ¬∑ Holunderweg&nbsp;17, Seevetal</p>
      <form id="rsvpForm"
        action="https://docs.google.com/forms/d/e/1FAIpQLScT6YcNF0bdA23qhFni-vAFEZjoMcPxRFHo-lTu3SEWxQ9aSA/formResponse"
        method="POST" target="hidden_iframe">
        <label for="name">Name:</label>
        <input type="text" name="entry.774546433" id="name" required />

        <label>Kommst du?</label>
        <div class="radio-group">
          <label><input type="radio" name="entry.1551877029" value="Ja" required />Ja</label>
          <label><input type="radio" name="entry.1551877029" value="Nein" />Nein</label>
        </div>

        <button type="submit" id="submitBtn">Senden</button>
      </form>
      <iframe name="hidden_iframe" style="display:none;"></iframe>
    </div>
  </div>

  <script>
    const wrapper = document.querySelector('.balloon-wrapper');
    
    // Customize your colors
    const colors = ['#e63946', '#f1c40f', '#2ecc71', '#3498db', '#9b59b6', '#ff69b4'];
    
    function spawnBalloon() {
      const b = document.createElement('i');
      b.classList.add('bi', 'bi-balloon-fill', 'balloon');
    
      b.style.left = Math.random() * 100 + 'vw';
      b.style.animationDuration = (12 + Math.random() * 8) + 's';
      b.style.animationDelay = Math.random() * 5 + 's';
      b.style.color = colors[Math.floor(Math.random() * colors.length)];
      b.style.fontSize = (1.5 + Math.random() * 2) + 'rem';
    
      wrapper.appendChild(b);
    
      setTimeout(() => b.remove(), 20000);
    }
    
    // Spawn continuously
    setInterval(spawnBalloon, 400);
    for (let i = 0; i < 20; i++) spawnBalloon(); // initial batch
    

    // ---------- Konfetti Kanone ----------
    function shootConfetti(count = 80) {
      const colors = ['#cc2d22', '#fee7b6', '#505050', '#000', '#fff', '#f4b400', '#34a853'];
      for (let i = 0; i < count; i++) {
        const conf = document.createElement('span');
        conf.className = 'confetti';
        conf.style.left = Math.random() * 100 + 'vw';
        conf.style.background = colors[Math.floor(Math.random() * colors.length)];
        conf.style.transform = 'rotate(' + Math.random() * 360 + 'deg)';
        conf.style.animationDuration = (1.3 + Math.random() * 0.7) + 's';
        document.body.appendChild(conf);
        setTimeout(() => conf.remove(), 1800);
      }
    }
    window.addEventListener('load', () => { setTimeout(shootConfetti, 800); });

    // ---------- Emoji Rain ----------
    function emojiRain() {
      const icons = ['ü•≥', 'üéâ', 'üéà', 'üçª', 'üî•'];
      for (let i = 0; i < 30; i++) {
        const el = document.createElement('span');
        el.className = 'emoji';
        el.textContent = icons[Math.floor(Math.random() * icons.length)];
        el.style.left = Math.random() * 100 + 'vw';
        el.style.fontSize = (1.2 + Math.random() * 1.2) + 'rem';
        el.style.animationDuration = (1.5 + Math.random() * 0.8) + 's';
        document.body.appendChild(el);
        setTimeout(() => el.remove(), 2200);
      }
    }

    // ---------- Funny Cursor when hovering submit ----------
    const btn = document.getElementById('submitBtn');
    btn.addEventListener('mouseenter', () => {
      document.body.style.cursor = 'pointer';
    });
    btn.addEventListener('mouseleave', () => {
      document.body.style.cursor = "url('data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\' width=\'32\' height=\'32\'><text y=\'24\' font-size=\'24\'>üéâ</text></svg>') 16 16,auto";
    });

    // ---------- RSVP form interactions ----------
    const form = document.getElementById('rsvpForm');
    function randomShift() {
      const x = (Math.random() * 120 - 60) + '%';
      const y = (Math.random() * 40 - 20) + '%';
      btn.style.setProperty('--tx', x);
      btn.style.setProperty('--ty', y);
    }
    form.addEventListener('change', () => {
      const ja = form.querySelector('input[value="Ja"]').checked;
      const nein = form.querySelector('input[value="Nein"]').checked;
      if (ja) { emojiRain(); }
      if (nein) {
        btn.classList.add('avoid');
        btn.addEventListener('mouseover', randomShift);
      } else {
        btn.classList.remove('avoid');
        btn.removeEventListener('mouseover', randomShift);
        btn.style.setProperty('--tx', '0');
        btn.style.setProperty('--ty', '0');
      }
    });
    form.addEventListener('submit', e => {
      card.innerHTML = '<div class="success">üéâ Danke!<br>Wir sehen uns beim BBQ.</div>';
    });

    // ---------- Scroll Tilt via Garland click ----------
    const garland = document.getElementById('garland');
    const card = document.getElementById('card');
    

    garland.addEventListener('click', () => {
      
      // Remove the class to reset animation
      card.classList.remove('spin-once');

    // Force reflow to restart animation
    void card.offsetWidth;

    // Add the class to trigger animation
    card.classList.add('spin-once');
  });

    
    let activeSound = null; // track currently playing sound
    
    form.addEventListener('change', () => {
      const nein = form.querySelector('input[value="Nein"]').checked;
    
      if (nein) {
        btn.classList.add('avoid');
        shrinkButton();
        playSound();
      } else {
        btn.classList.remove('avoid');
    
        // Reset all funny effects
        btn.style.transform = '';
        btn.style.setProperty('--tx', '0');
        btn.style.setProperty('--ty', '0');
        btn.innerText = 'Senden';
    
        // Stop active sound
        if (activeSound && typeof activeSound.pause === 'function') {
          activeSound.pause();
          activeSound.currentTime = 0;
          activeSound = null;
        }
      }
    });
    
    form.addEventListener('submit', (e) => {
      const nein = form.querySelector('input[value="Nein"]').checked;
      if (nein) {
        e.preventDefault();
        btn.innerText = 'Schade, dass du nicht kommst.';
        return;
      }
      card.innerHTML = '<div class="success">üéâ Danke!<br>Wir sehen uns beim BBQ.</div>';
    });
    
    function shrinkButton() {
      btn.style.transform = 'scale(0.3)';
    }
    
    function playSound() {
      // Stop previous sound first
      if (activeSound && typeof activeSound.pause === 'function') {
        activeSound.pause();
        activeSound.currentTime = 0;
      }
    
      activeSound = new Audio('https://www.myinstants.com/media/sounds/oh-no-no-no-no-laugh.mp3');
      activeSound.play();
    }
  </script>
</body>

</html>